package com.example.jsex;

import javax.script.ScriptContext;
import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;
import javax.script.ScriptException;

public class JavaScriptDemo {

	public static void main(String[] args) {
		new JavaScriptDemo();
	}
	
	public JavaScriptDemo() {
		demoOne();
	}

	
	private void demoTwo(){
			
		ScriptEngineManager scriptEngineManager = new ScriptEngineManager();
		ScriptEngine engine = scriptEngineManager.getEngineByName("nashorn");
		int i = 100;
		int j = 10;
		
		ScriptContext context = engine.getContext();
		context.setAttribute("A", i, ScriptContext.GLOBAL_SCOPE);
		context.setAttribute("B", j, ScriptContext.GLOBAL_SCOPE);

		engine.eval(new FileReader("script.js"));

		Invocable invocable = (Invocable) engine;

		Object result = invocable.invokeFunction("fun1", "Peter Parker");
		System.out.println(result);
		System.out.println(result.getClass());
	}
	
	private void demoOne(){
			
		ScriptEngineManager scriptEngineManager = new ScriptEngineManager();
		ScriptEngine engine = scriptEngineManager.getEngineByName("nashorn");
		int i = 100;
		int j = 10;
		
		ScriptContext context = engine.getContext();
		context.setAttribute("A", i, ScriptContext.GLOBAL_SCOPE);
		context.setAttribute("B", j, ScriptContext.GLOBAL_SCOPE);

		
		try {
			
			
			engine.eval("print(A+B)");
			engine.eval("print(10+2)");
		} catch (ScriptException e) {
			e.printStackTrace();
		}
	}
}
